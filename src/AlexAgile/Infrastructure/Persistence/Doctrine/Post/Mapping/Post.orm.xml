<?xml version="1.0" encoding="UTF-8"?>
<doctrine-mapping
        xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping
        https://raw.github.com/doctrine/doctrine2/master/doctrine-mapping.xsd">
    <entity name="AlexAgile\Domain\Post\Post" table="posts">
        <id
                column="id"
                name="id"
                type="PostId"
        />
        <field
                name="content"
                type="Content"
        />
        <field
                name="description"
                type="Description"
        />
        <field
                name="enabled"
                type="boolean"
        />
        <field
                column="image_url"
                name="image"
                type="ImageUrl"
        />
        <field
                column="`order`"
                name="order"
                type="Order"
        />
        <field
                name="title"
                type="Title"
        />
        <field
                column="url_slug"
                length="700"
                name="urlSlug"
                type="UrlSlug"
                unique="true"
        />
        <field
                name="created"
                type="datetime"
        />
        <field
                name="modified"
                type="datetime"
        />
        <many-to-many field="categories" target-entity="AlexAgile\Domain\Category\Category">
            <join-table name="posts_categories">
                <join-columns>
                    <join-column name="post_id" referenced-column-name="id" />
                </join-columns>
                <inverse-join-columns>
                    <join-column name="category_id" referenced-column-name="id" />
                </inverse-join-columns>
            </join-table>
        </many-to-many>
    </entity>
</doctrine-mapping>
